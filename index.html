<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8"> 
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Transformación 360° | Programa de Bienestar y Liderazgo</title>
    <!-- Incluimos una fuente limpia y elegante de Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700;900&display=swap" rel="stylesheet">
    
    <!-- CSS AGREGADO AQUÍ PARA DEFINIR LA IMAGEN DE FONDO DEL HERO Y LOS NUEVOS COLORES DE SECCIÓN -->
    <style>
        /* Variables y Base Styling */
        :root {
            --color-primary: #E27138; /* Naranja fuerte */
            --color-secondary: #769E94; /* Verde Menta */
            --color-bg-light: #f5f5f5; /* Gris claro */
            --color-text-dark: #2c3e50;
            --color-text-light: #ffffff;
            --color-moss-green: #aed581; /* Verde Musgo Claro para el marco */
        }

        body {
            font-family: 'Montserrat', sans-serif;
            color: var(--color-text-dark);
            margin: 0;
            padding: 0;
            line-height: 1.6;
        }

        .section {
            padding: 40px 20px;
        }

        /* --- Secciones con nuevos colores de fondo --- */
        .section-f5 {
            background-color: var(--color-bg-light);
            color: var(--color-text-dark);
        }
        .section-orange {
            background-color: var(--color-primary);
            color: var(--color-text-light);
        }
        .section-mint {
            background-color: var(--color-secondary);
            color: var(--color-text-light);
        }

        /* --- HERO SECTION BASE (IMAGEN + GRADIENTE) --- */
        .hero-section, .section-price-hero {
            background-image: linear-gradient(rgba(226, 113, 56, 0.8), rgba(226, 113, 56, 0.8)), url('assets/images/hero.jpg');
            background-size: cover;
            background-position: center;
            color: var(--color-text-light);
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            min-height: 50vh; 
        }

        .hero-content {
            padding: 20px;
            max-width: 900px;
        }
        
        h1 { font-size: 2.2rem; font-weight: 900; margin-bottom: 20px; line-height: 1.2; }
        h2 { font-size: 1.8rem; font-weight: 800; margin-bottom: 20px; text-align: center; }
        .subtitle { font-size: 1.1rem; opacity: 0.9; }

        /* --- ESTILOS DE BOTONES (CTAs) Y ANIMACIÓN POP-UP --- */
        .cta-button {
            display: block;
            width: 90%;
            max-width: 450px;
            margin: 20px auto;
            padding: 15px 20px;
            border-radius: 50px;
            font-size: 1.2rem;
            font-weight: 700;
            text-decoration: none;
            text-transform: uppercase;
            /* Sombra difuminada */
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
            transition: all 0.2s ease-out;
            border: none;
            cursor: pointer;
        }
        /* Animación Pop-up Suave */
        .cta-button.cta-animated:hover, .cta-button.cta-animated:active {
            transform: scale(1.03); /* Ligeramente más grande */
            box-shadow: 0 12px 25px rgba(0, 0, 0, 0.4);
        }
        /* Color para Bloque 1 (Hero) y 6 (Liderazgo) - Contraste con Naranja/Gris */
        .cta-primary {
            background-color: #2ecc71; /* Verde brillante */
            color: var(--color-text-light);
        }
        /* Color para Bloque 2 (Resultados) y 4 (Precio) - Contraste con Gris/Naranja */
        .cta-secondary {
            background-color: #3498db; /* Azul */
            color: var(--color-text-light);
        }
        .cta-tertiary {
            background-color: #f39c12; /* Amarillo/Dorado */
            color: var(--color-text-dark);
        }
        /* Nuevo estilo para botón de Instagram */
        .cta-instagram {
            background: linear-gradient(45deg, #f09433 0%,#e6683c 25%,#dc2743 50%,#cc2366 75%,#bc1888 100%); 
            color: var(--color-text-light);
        }
        
        /* Estilo para el texto small-print y negrita */
        .small-print {
            font-size: 0.9rem;
            margin-top: -10px;
            margin-bottom: 20px;
            font-weight: 400;
        }
        .small-print strong {
            font-weight: 700;
        }

        /* --- MARCO DE BENEFICIOS --- */
        .benefits-header {
            background-color: var(--color-moss-green);
            color: var(--color-text-dark);
            padding: 15px 20px;
            border: 3px double var(--color-text-dark); /* Doble orilla */
            border-radius: 8px;
            font-weight: 700;
            font-size: 1.2rem;
            margin: 0 auto 20px;
            max-width: 90%;
            text-align: center;
        }
        /* --- LISTA DE BENEFICIOS (BLOQUE 3) --- */
        .benefits-list {
            max-width: 600px;
            margin: 0px auto;
            text-align: center;
        }
        .benefits-list ul {
            list-style: none;
            padding: 0;
            margin-top: 20px;
            text-align: left; 
            width: 100%;
        }
        .benefits-list ul li {
            margin-bottom: 10px;
            font-size: 1.1rem;
            line-height: 1.4;
        }
        .benefits-list ul li span {
             margin-right: 8px; /* Espacio para el checkmark */
             color: #2ecc71; /* Color verde para el check */
             font-weight: 700;
        }

        /* --- CARRUSEL Y FLECHAS ANIMADAS (BLOQUE 2) --- */
        .carousel-container {
            position: relative;
            max-width: 800px;
            margin: 30px auto;
            overflow: hidden;
            padding: 10px 0;
        }
        .carousel {
            display: flex;
            animation: slide 30s linear infinite; /* Animación de deslizamiento infinito */
            width: max-content; /* Permite que el contenido se extienda */
        }
        .carousel-item {
            flex-shrink: 0;
            margin-right: 15px;
            width: 120px;
            height: 120px;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
        }
        .carousel-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        @keyframes slide {
            from { transform: translateX(0); }
            to { transform: translateX(-50%); } /* Se desliza la mitad para que sea un loop infinito */
        }

        .arrow-animation {
            text-align: center;
            margin: 20px 0;
            height: 40px;
            line-height: 1;
        }
        .arrow-animation span {
            display: inline-block;
            font-size: 2rem;
            color: var(--color-primary);
            animation: move-up-down 1.5s infinite alternate;
            margin: 0 5px;
        }
        .arrow-animation span:nth-child(2) { animation-delay: 0.2s; }
        .arrow-animation span:nth-child(3) { animation-delay: 0.4s; }

        @keyframes move-up-down {
            from { transform: translateY(10px); opacity: 0.5; }
            to { transform: translateY(-10px); opacity: 1; }
        }

        /* --- OTROS ESTILOS (Precio, Infograma, Historia) --- */
        .original-price { font-size: 1.5rem; text-decoration: line-through; opacity: 0.7; display: block; margin-bottom: 5px; font-weight: 400; }
        .discount-highlight { font-size: 3rem; font-weight: 900; margin: 0; line-height: 1.2; text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5); }
        .infogram-container { background-color: #ffffff; color: var(--color-text-dark); padding: 20px; border-radius: 12px; box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2); margin: 20px auto 30px; max-width: 95%; }
        .infogram-problem { color: #c0392b; }
        .infogram-solution { font-weight: 900; color: #27ae60; }
        .gallery-grid { display: grid; gap: 20px; padding: 20px 0; max-width: 1000px; margin: 0 auto; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); }
        .result-card img { width: 100%; height: auto; border-radius: 10px; box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1); }
        .story-content { max-width: 800px; margin: 0 auto; text-align: center; }
        .profile-photo { width: 150px; height: 150px; border-radius: 50%; object-fit: cover; margin-bottom: 20px; border: 5px solid var(--color-text-light); }
        .countdown { font-size: 2.5rem; font-weight: 900; margin: 20px auto; color: #f1c40f; text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.4); max-width: 300px; }
        
        /* --- FOOTER RESTAURADO --- */
        .footer { 
            padding: 20px; 
            text-align: center; 
            background-color: var(--color-bg-light); 
            color: var(--color-text-dark); 
            font-size: 0.9rem; 
            margin-top: 30px; 
        }
        .footer a { color: var(--color-primary); text-decoration: none; }


        /* --- MODAL (GALERÍA POP-UP) --- */
        .modal-overlay {
            display: none; /* Oculto por defecto */
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow-y: auto; /* Para permitir scroll dentro si el contenido es grande */
            background-color: rgba(0, 0, 0, 0.9);
            justify-content: center;
            align-items: center;
            /* Usar 'flex' cuando se muestre el modal */
        }
        .modal-content {
            background-color: #fff;
            margin: 40px auto; /* Margen superior e inferior para evitar que toque los bordes */
            padding: 20px;
            border-radius: 10px;
            width: 90%;
            max-width: 1000px;
            position: relative;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.5);
            max-height: 90vh;
        }
        .modal-gallery-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }
        .modal-gallery-grid .result-card {
            text-align: center;
        }
        .close-button {
            position: absolute;
            top: 15px;
            right: 25px;
            color: #aaa;
            font-size: 40px;
            font-weight: bold;
            cursor: pointer;
            border: none;
            background: none;
        }
        .close-button:hover,
        .close-button:focus {
            color: #333;
            text-decoration: none;
        }
    </style>
    
    <!-- ⚠️ AQUÍ DEBES PEGAR TUS CÓDIGOS DE SEGUIMIENTO -->
    
</head>
<body>

    <!-- BLOQUE 1 (HERO) - Contenido Principal, Centrado, CTA Principal -->
    <header class="hero-section section">
        <div class="hero-content">
            
            <!-- H1 PRINCIPAL -->
            <h1>Despierta tu Energía y Logra tu Peso Ideal: Asesoría Nutricional y Ejercicio.</h1>
            
            <!-- TEXTO ASESORÍA -->
            <p class="advisor-text">Te Asesoramos en Todo Tu Proceso</p>

            <!-- INFOGRAMA VISUAL (Solo texto destacado) -->
            <div class="infogram-container" style="max-width: 700px;">
                <p class="infogram-problem">¿Quieres mejorar tu <strong>bienestar</strong>, pero no sabes por dónde empezar?</p>
                <p class="infogram-solution">¡Tenemos la <strong>SOLUCIÓN!</strong> Un sistema <strong>COMPROBADO</strong> para transformar tu cuerpo y energía</p>
            </div>
            
            <!-- BOTÓN CTA 1 -->
            <a href="https://api.whatsapp.com/send?phone=56981590912&text=Hola,%20quiero%20iniciar%20mi%20plan%20de%20Transformación%20ahora!" class="cta-button cta-primary cta-animated">
                Quiero iniciar mi plan de Transformación ⭐
            </a>
            
        </div>
    </header>

    <!-- BLOQUE 2 - RESULTADOS Y PROGRAMA - Fondo Gris Claro -->
    <section class="section section-f5">
        
        <!-- 2.1 SECCIÓN DE RESULTADOS -->
        <h2>Resultados Reales. Historias Inspiradoras.</h2>
        <p class="subtitle" style="text-align: center;">Descubre el poder de la consistencia. Estos son solo algunos de los resultados que alcanzarás en salud y físico.</p>
        
        <div class="gallery-grid">
            <!-- RESULTADOS INICIALES (3 IMÁGENES COMBINADAS) -->
            <div class="result-card"><img src="assets/images/resultado_1.jpg" alt="Transformación Antes y Después 1"><p class="caption">¡Baja de peso y aumenta la vitalidad!</p></div>
            <div class="result-card"><img src="assets/images/resultado_2.jpg" alt="Transformación Antes y Después 2"><p class="caption">Adiós a la grasa, hola a la energía.</p></div>
            <div class="result-card"><img src="assets/images/resultado_3.jpg" alt="Transformación Antes y Después 3"><p class="caption">Transformación completa de cuerpo y mente.</p></div>
        </div>
        
        <!-- BOTÓN PARA ABRIR LA GALERÍA MODAL -->
        <button id="openModalBtn" class="cta-button cta-tertiary cta-animated" style="margin-top: 10px;">
            Ver 20 resultados más del programa
        </button>
        
        <!-- Flechas Animadas (REUBICADAS DEBAJO DEL BOTÓN) -->
        <div class="arrow-animation">
            <span>&#9650;</span>
            <span>&#9650;</span>
            <span>&#9650;</span>
        </div>

        <!-- Carrusel de resultados pequeños -->
        <div class="carousel-container">
            <!-- Duplicar el contenido para un loop infinito suave -->
            <div class="carousel" id="results-carousel">
                <!-- Se poblará con JS al cargar la página -->
            </div>
        </div>

        <!-- 2.2 SECCIÓN DEL PROGRAMA -->
        <h2 style="margin-top: 40px;">Tu Transformación Comienza Hoy: Esto Incluye Tu Plan</h2>
        <div class="program-grid">
            <div class="program-item">
                <h3>Plataforma Online Premium</h3>
                <p>Acceso 24/7 a ejercicios funcionales, rutinas de fuerza y cardio, adaptables a todos los niveles.</p>
            </div>
            <div class="program-item">
                <h3>Recetario y Nutrición</h3>
                <p>Cientos de recetas saludables y deliciosas, diseñadas por expertos para que alcances tu peso ideal sin dietas restrictivas.</p>
            </div>
            <div class="program-item">
                <h3>Clases de Nutrición Online</h3>
                <p>Clases semanales en vivo y grabadas con nuestros mentores para que aprendas a comer y domines la nutrición.</p>
            </div>
            <div class="program-item">
                <h3>Comunidad de Mentores</h3>
                <p>Forma parte de nuestra comunidad de bienestar, con guía constante, apoyo y responsabilidad de líderes en el camino hacia tu mejor versión</p>
            </div>
        </div>

        <!-- BOTÓN CTA 2 -->
        <a href="https://api.whatsapp.com/send?phone=56981590912&text=Hola,%20quiero%20obtener%20mi%20propio%20resultado%20como%20los%20que%20vi%20en%20la%20página." class="cta-button cta-secondary cta-animated">
            Quiero mi propio resultado
        </a>
    </section>
    
    <!-- BLOQUE 3 - URGENCIA Y BENEFICIOS - Fondo Naranja #E27138 -->
    <section class="section section-orange">
        <div class="hero-content" style="padding: 0;">
            
            <!-- CONTADOR DE URGENCIA Y OFERTA (CENTRADOS) -->
            <div class="urgency-box">
                <p class="urgency-text" style="color: #fff;">OFERTA DISPONIBLE por tiempo limitado</p>
                <div class="countdown" id="countdown"></div> <!-- RELOJ CENTRADO -->
                <p class="bonus-text">Compra ahora y accede a <strong>1 Clase Gratuita de Ejercicios</strong> y <strong>4 Clases Gratuitas de Nutrición</strong> presencial.</p>
            </div>
            
            <!-- LISTA DE ALTO VALOR (CENTRALIZADA CON ÍTEMS A LA IZQUIERDA) -->
            <div class="benefits-list">
                <!-- Marco con Doble Orilla y Fondo Verde Musgo -->
                <p class="benefits-header">Esto es lo que obtienes con tu plan PROBADO para resultados reales:</p>
                
                <ul>
                    <!-- Se reintroducen los checkmarks como span para estilizar -->
                    <li><span>✅</span> <strong>PLAN PROBADO:</strong> Garantizado para bajar en promedio <strong>2 a 3 kg por semana.</strong></li>
                    <li><span>✅</span> <strong>24/7 Plataforma Nutricional:</strong> Recetas saludables, rutinas de ejercicios profesionales, <strong>actualizadas mes a mes.</strong></li>
                    <li><span>✅</span> <strong>Asesor con Atención Personalizada:</strong> Soporte directo para resolver dudas y optimizar tu progreso.</li>
                    <li><span>✅</span> <strong>Reto Exclusivo de 21 Días:</strong> Incorporación inmediata a nuestra comunidad para asegurar resultados físicos rápidos y en grupo.</li>
                    <li><span>✅</span> <strong>Scanner de Bioimpedancia:</strong> Medición de grasa y músculo valorada en <strong>$50.000 CLP</strong> (incluido sin costo extra).</li>
                    <li><span>✅</span> <strong>Cursos Online de Nutrición en Vivo:</strong> Clases semanales por Zoom para que aprendas a comer y domines la nutrición.</li>
                    <li><span>✅</span> <strong>Suministro de Suplementos Nutricionales:</strong> El soporte de nutrientes esencial para acelerar tu metabolismo y energía.</li>
                    <li><span>✅</span> <strong>Aplicación de Rutinas Profesionales:</strong> Acceso fácil a tus entrenamientos desde cualquier dispositivo.</li>
                    <li><span>✅</span> <strong>Actividades Presenciales:</strong> Eventos para construir tu mejor versión y conectar con la comunidad.</li>
                    <li><span>✅</span> Oxida la grasa, controla tu peso de forma guiada y <strong>sostenible.</strong></li>
                    <li><span>✅</span> Mejora drásticamente tu digestión, aumenta tu energía y vitalidad diaria.</li>
                    <li><span>✅</span> Optimiza tu enfoque, concentración y sistemas cognitivos.</li>
                </ul>
            </div>
        </div>
    </section>

    <!-- BLOQUE 4 - REITERACIÓN DE PRECIO - Fondo Naranja/Imagen -->
    <section class="section-price-hero section">
        <div class="hero-content">
             <!-- PRECIO DE REFERENCIA Y DESCUENTO -->
            <div class="price-container">
                <span class="original-price">VALOR NORMAL SOBRE $350.000 CLP</span>
                <p class="discount-highlight">¡SOLO HOY $115.000 CLP!</p>
            </div>

            <!-- BOTÓN CTA 3 -->
            <a href="https://api.whatsapp.com/send?phone=56981590912&text=Hola,%20voy%20a%20aprovechar%20la%20promoción%20de%20$115.000%20CLP." class="cta-button cta-secondary cta-animated">
                Voy a aprovechar la promoción 🔥
            </a>
            <!-- Se asegura que el texto entre asteriscos esté en negrita -->
            <p class="small-print" style="color: #fff;">Haz clic para iniciar tu compra a través de WhatsApp. <strong>¡ENVÍO A TODO CHILE!</strong> Cupos Limitados.</p>
        </div>
    </section>

    <!-- BLOQUE 5 - MI HISTORIA - Fondo Verde Menta #769E94 -->
    <section class="section section-mint">
        <div class="story-content">
            <img src="assets/images/mi_foto.jpg" alt="Tu Foto de Perfil" class="profile-photo">
            <h2>Mi Historia: De la Adicción a la Vitalidad</h2>
            <p>Sé lo que es sentirse atrapado por la comida. Mi lucha no era solo por el peso; era la <strong>ansiedad de buscar galletas</strong> incluso cuando no quedaban, la <strong>vergüenza social</strong> de la mala digestión y, peor aún, los <strong>dolores abdominales paralizantes</strong> que me quitaban el aliento. Sabía que debía hacer ejercicio, pero mi cuerpo simplemente no tenía la <strong>energía</strong> para empezar.</p>
            <p><strong>No es tu culpa.</strong> El problema no eres tú, es el sistema que aún no conoces.</p>
            <p>Encontré una <strong>comunidad y un sistema activo</strong> que renovó mi vida. Mi transformación fue total: de la fatiga crónica a una <strong>explosión de energía</strong>, la digestión mejoró y mi <strong>confianza</strong> se disparó.</p>
            <p>Mi pasión es el <strong>liderazgo</strong> y la <strong>enseñanza</strong>. Como padre, descubrí que guiar a otros a su mejor versión es mi mayor gratificación. Hoy, te ofrezco ese mismo camino. Si sueñas con esa <strong>vitalidad</strong> y estás listo para un <strong>desarrollo personal profundo</strong>, te guiaré con las herramientas que te harán <strong>independiente</strong> y exitoso. La <strong>confianza</strong> es la base de todo.</p>
        </div>
    </section>

    <!-- BLOQUE 6 - LIDERAZGO Y FOOTER - Fondo Gris Claro -->
    <section class="section section-f5">
        <h2 style="margin-bottom: 30px;">Un Camino Que No Termina en Ti: Liderazgo y Desarrollo</h2>
        <div class="leadership-grid">
            <div class="leadership-item">
                <h3>Impacta y Genera Ingresos</h3>
                <p>Nuestra comunidad está llena de líderes. Si buscas desarrollo personal y la oportunidad de generar <strong>ingresos extras (CLP $100.000 - $300.000)</strong> ayudando a otros, este es tu lugar.</p>
            </div>
            <div class="leadership-item">
                <h3>Aprendizaje de Habilidades</h3>
                <p>Aumenta tu liderazgo, aprende sobre marketing, comunicación efectiva y virtud. Convierte tu éxito en bienestar en un negocio con propósito.</p>
            </div>
        </div>

        <!-- BOTÓN DE INSTAGRAM SOLICITADO -->
        <a href="https://www.instagram.com/alvarosalinas_hbl?igsh=MXh0Y2ZhYWhqcTFvdQ==" target="_blank" class="cta-button cta-animated cta-instagram">
            ¡Sígueme en Instagram! 📸
        </a>

        <!-- BOTÓN CTA 4 -->
        <a href="https://api.whatsapp.com/send?phone=56981590912&text=Hola,%20estoy%20lista%20para%20formarme%20como%20Coach%20de%20Bienestar%20y%20conocer%20la%20oportunidad%20de%20ingresos." class="cta-button cta-primary cta-animated">
            ESTOY LISTA PARA FORMARME COMO COACH DE BIENESTAR
        </a>

        <!-- FOOTER (Estructura original restaurada) -->
        <footer class="footer">
            <p>&copy; 2025 Transformación 360°. Todos los derechos reservados.</p>
            <p>Contacto: <a href="https://api.whatsapp.com/send?phone=56981590912">WhatsApp +56 9 8159 0912</a></p>
        </footer>
    </section>

    <!-- ESTRUCTURA DEL MODAL (GALERÍA POP-UP) -->
    <div id="resultsModal" class="modal-overlay">
        <div class="modal-content">
            <button class="close-button">&times;</button>
            <h2 class="modal-title">¡20 Transformaciones Más!</h2>
            <p class="subtitle" style="color: #666;">Inspírate con el poder de nuestro sistema.</p>
            
            <div class="modal-gallery-grid" id="modal-gallery">
                <!-- Las imágenes se insertan dinámicamente aquí -->
            </div>

            <!-- CTA DENTRO DEL MODAL -->
            <a href="https://api.whatsapp.com/send?phone=56981590912&text=Hola,%20vi%20la%20galer%C3%ADa%20completa%20y%20quiero%20comenzar%20mi%20plan%20ahora%20mismo!" class="cta-button modal-cta cta-secondary cta-animated">
                ¡Quiero comenzar con mi plan ahora!
            </a>
        </div>
    </div>

    <!-- Scripts -->
    <!-- El script countdown.js es el que da vida al reloj -->
    <script src="assets/js/countdown.js"></script>
    <script>
        // Array de resultados (del 4 al 23)
        const totalResults = 20;
        const resultsData = Array.from({ length: totalResults }, (_, i) => ({
            id: i + 4,
            caption: `Transformación ${i + 4}`
        }));

        // Función para poblar la galería y el carrusel
        function populateGalleries() {
            const modalGallery = document.getElementById('modal-gallery');
            const carousel = document.getElementById('results-carousel');
            
            if (!modalGallery || !carousel) {
                console.error("No se encontraron los contenedores de galería o carrusel.");
                return;
            }

            let carouselContent = '';
            let modalContent = '';

            // 1. Crear el contenido del Carrusel (Duplicado para loop infinito)
            for (let k = 0; k < 2; k++) { // Duplicar para el loop
                resultsData.forEach(result => {
                    carouselContent += `
                        <div class="carousel-item">
                            <img src="assets/images/resultado_${result.id}.jpg" alt="Resultado ${result.id}">
                        </div>
                    `;
                });
            }
            carousel.innerHTML = carouselContent;

            // 2. Crear el contenido del Modal (Sin duplicar)
            resultsData.forEach(result => {
                modalContent += `
                    <div class="result-card">
                        <img src="assets/images/resultado_${result.id}.jpg" alt="Resultado ${result.id}">
                        <p class="caption">${result.caption}</p>
                    </div>
                `;
            });
            modalGallery.innerHTML = modalContent;
        }

        // Lógica para el MODAL (POP-UP)
        const modal = document.getElementById('resultsModal');
        const openBtn = document.getElementById('openModalBtn');
        const closeBtn = document.querySelector('#resultsModal .close-button'); // Apunta solo al botón dentro del modal

        window.onload = function() {
            populateGalleries(); // Poblar las galerías al cargar
            
            // Asegurar que los listeners estén adjuntos después de la carga
            if (openBtn && modal && closeBtn) {
                openBtn.addEventListener('click', function() {
                    modal.style.display = 'flex'; // Abre el modal
                    document.body.style.overflow = 'hidden'; // Evita el scroll del fondo
                });

                closeBtn.addEventListener('click', function() {
                    modal.style.display = 'none'; // Cierra el modal
                    document.body.style.overflow = 'auto'; // Restaura el scroll
                });

                window.addEventListener('click', function(event) {
                    if (event.target === modal) {
                        modal.style.display = 'none';
                        document.body.style.overflow = 'auto';
                    }
                });
            } else {
                console.error("No se encontraron elementos esenciales del modal.");
            }
        }
    </script>
</body>
</html>
